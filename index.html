<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>InvestigateTV - mAnIpulated: Is it AI?</title>
    <style>
        body {
            font-family: sans-serif;
            text-align: center;
            font-color: #fff;
            margin: 20px;
            background-color: #000;
        }
         
         .footer-logo {
         background: rgba(93, 146, 88, 0.7);
  			color: #FFF; 
            padding: 6px 12px;
            border-radius: 6px;
            border: none;
            font-size: 15px;
            cursor: pointer;
            font-weight: normal;
         }
         .footer-logo .special-font{
         	font-family: "Montserrat", sans-serif;
    		font-weight: bold;
            color: #FFF;
            text-shadow: 0 0 5px rgba(255, 255, 255, 0.8);
    		font-size:16px;
         }
         .footer-logo img{
         	display: block;
        	max-width: 15%;
            max-height: 15%;
            margin: auto;
            }
         
        #start-screen, #game-screen {
            max-width: 800px;
            margin: 0 auto;
            background-color: #000;
            font-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        #game-screen {
            display: none; /* Initially hidden */
            position: relative; /* For positioning hotspots */
        }
        img {
            max-width: 100%;
            height: auto;
        }
        button {
            padding: 10px 20px;
            font-size: 1.1em;
            cursor: pointer;
            border: none;
            border-radius: 5px;
            background-color: #007bff;
            color: white;
            margin-top: 20px;
        }
        button:hover {
            background-color: #0056b3;
        }
        button:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
        }
        .footer-logo {
            margin-top: 30px;
        }
        #question-image-container {
            position: relative;
            display: inline-block; /* To contain absolutely positioned hotspots */
        }
        .hotspot {
            position: absolute;
            cursor: pointer;
            box-sizing: border-box; /* Include padding and border in the element's total width and height */
            transform: translate(-50%, -50%); /* For centering the hotspot based on x,y */

            /* Invisible by default */
            background-color: transparent;
            border: 1px solid transparent;
            transition: background-color 0.2s, border-color 0.2s; /* Smooth transition for appearance */
        }
        /* No hover effect for invisible hotspots */

        /* Class for when "Show Answers" is clicked - makes them red and adds hover */
        .hotspot-red-visible {
            background-color: rgba(255, 0, 0, 0.3); /* Semi-transparent red */
            border: 1px solid red; /* Red border */
        }
        .hotspot-red-visible:hover {
            background-color: rgba(255, 0, 0, 0.6); /* Red hover effect */
        }

        #popup-modal {
            display: none; /* Hidden by default */
            position: fixed; /* Stay in place */
            z-index: 1; /* Sit on top */
            left: 0;
            top: 0;
            width: 100%; /* Full width */
            height: 100%; /* Full height */
            overflow: auto; /* Enable scroll if needed */
            background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
        }
        .popup-content {
            background-color: #fefefe;
            margin: 15% auto; /* 15% from the top and centered */
            padding: 20px;
            border: 1px solid #888;
            width: 80%; /* Could be more or less, depending on screen size */
            max-width: 500px;
            border-radius: 8px;
            position: relative;
        }
        .close-button {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }
        .close-button:hover,
        .close-button:focus {
            color: black;
            text-decoration: none;
        }
       
    </style>
</head>
<body>

    <div id="start-screen">
        <img src="https://raw.githubusercontent.com/InvestigateTV/manipulatedgame1/main/images/manipulated_matchup.png" alt="Illustration of a hand below a glowing set of lines and dots designed to represent artificial intelligence. The words manipulated matchup are printed above the illustration">
        <h3>Can you find the AI?</h3>
        <p>Test your skills at identifying what gives away an AI-generated image.</p>
        <button id="start-quiz-button">Start Quiz</button>
        
        <div class="footer-logo">
            <a href="https://www.investigatetv.com/">Exit to the mAnIpulated Homepage</a>
           <br> <img src="https://raw.githubusercontent.com/InvestigateTV/manipulatedgame1/main/images/GTV-Clear-Logomark-RGB-color.png" alt="Gray Media Logo: Colorful partial circles arranged to form the letter G">
        </div>
    </div>

    <div id="game-screen">
        <h1>Is it AI?</h1>
        <div id="question-image-container">
            <!-- Question image will be loaded here -->
            <img id="game-image" src="" alt="Question Image">
            <!-- Hotspots will be dynamically added here -->
        </div>
        <button id="show-answers-button">Show me the answers!</button> <!-- Button text is fixed -->
        <button id="return-to-start-button">Return to Start</button>
        <div class="footer-logo">
            <img src="https://raw.githubusercontent.com/InvestigateTV/manipulatedgame1/main/images/GTV-Clear-Logomark-RGB-color.png" alt="Gray Media Logo: Colorful partial circles arranged to form the letter G">
        </div>
    </div>

    <!-- Pop-up Modal -->
    <div id="popup-modal">
        <div class="popup-content">
            <span class="close-button">&times;</span>
            <p id="popup-text"></p>
        </div>
    </div>

    <script>
        const startScreen = document.getElementById('start-screen');
        const gameScreen = document.getElementById('game-screen');
        const startQuizButton = document.getElementById('start-quiz-button');
        const gameImage = document.getElementById('game-image');
        const questionImageContainer = document.getElementById('question-image-container');
        const returnToStartButton = document.getElementById('return-to-start-button');
        const popupModal = document.getElementById('popup-modal');
        const closeButton = document.querySelector('.close-button');
        const popupText = document.getElementById('popup-text');
        const showAnswersButton = document.getElementById('show-answers-button');

        // Define your question sets
        const questions = [
             {
                image: "https://raw.githubusercontent.com/InvestigateTV/manipulatedgame4/main/images/Manipulated%20Game%204%20(1).png",
                hotspots: [
                    { x: 36, y: 55, width: 32, height: 30, text: "The lighting on the raccoon does not match the rest of the image. For example, the front leg is brightly backlit, but the animal does not have a sharp visible shadow on the wooden floor." },
                    { x: 50, y: 12, width: 65, height: 20, text: "The background has ripples and blurs that are not indicative of a shallow depth of field, but of pixel generation." },
                    { x: 9, y: 46, width: 22, height: 65, text: "Despite being in focus, the plants in this image do not have distinct stems and leaves. In some cases leaves appear at random or are repeated in an unnatural manner. Additionally, the edge and texture of the flower pot is warped, and there is a strange hole in the side." },
                    { x: 89, y: 30, width: 10, height: 55, text: "The edge of the doorframe shows many anomalies, including ripples at the edge, variations in texture and slight shifts lighting direction."}
                ]
            },
            {
                image: "https://raw.githubusercontent.com/InvestigateTV/manipulatedgame4/main/images/Manipulated%20Game%204%20(2).png",
                hotspots: [
                    { x: 55, y: 65, width: 10, height: 10, text: "The temperature of the lighting on the child's face is different than the rest of the image." },
                    { x: 70.6, y: 85.8, width: 10, height: 10, text: "The child's left hand is missing." },
                    { x: 62, y: 33, width: 50, height: 10, text: "Several of the stadium seats exhibit unexplained ripples or blurs, such as the missing corner of this chair." }
                ]
            },

             {
                image: "https://raw.githubusercontent.com/InvestigateTV/manipulatedgame4/main/images/Manipulated%20Game%204%20(3).png",
                hotspots: [
                    { x: 68, y: 36, width: 12, height: 12, text: "The bridge does not connect to anything." },
                    { x: 84.7, y: 37.2, width: 10, height: 10, text: "The streetlight appears to grow out of the middle of the roadway, and the roadway surface is rippled and improperly blurred." },
                    { x: 22, y: 42, width: 25, height: 25, text: "The shadows of the trees are incongruent with their position, and in some cases appear on top of other elements in the image." },
                    { x: 66, y: 78, width: 25, height: 15, text: "Water rapids appear where the flow of this flooded river and the position of the debris would make them impossible. There is also suspicious blurring in this area." },
                    { x: 52, y: 27, width: 15, height: 20, text: "The powerlines supposedly connected to this tower are disjointed or disappear all together in blurs and ripples."},
                ]
            },
        ];

        let currentQuestion = null;

        // Function to initialize the game and load a random question
        function initGame() {
            startScreen.style.display = 'none';
            gameScreen.style.display = 'block';

            questionImageContainer.querySelectorAll('.hotspot').forEach(hotspot => hotspot.remove());

            const randomIndex = Math.floor(Math.random() * questions.length);
            currentQuestion = questions[randomIndex];
            gameImage.src = currentQuestion.image;

            gameImage.onload = () => {
                currentQuestion.hotspots.forEach(hotspotData => {
                    createHotspot(hotspotData);
                });
                // Ensure the "Show me the answers!" button is enabled for a new game
                showAnswersButton.disabled = false;
            };
        }

        // Function to create a clickable hotspot div on the image
        function createHotspot(hotspotData) {
            const hotspotDiv = document.createElement('div');
            hotspotDiv.classList.add('hotspot'); // Hotspots are invisible by default

            hotspotDiv.style.left = `${hotspotData.x}%`;
            hotspotDiv.style.top = `${hotspotData.y}%`;
            hotspotDiv.style.width = `${hotspotData.width}%`;
            hotspotDiv.style.height = `${hotspotData.height}%`;
            hotspotDiv.style.transform = 'translate(-50%, -50%)';

            hotspotDiv.addEventListener('click', () => {
                showPopup(hotspotData.text);
            });

            questionImageContainer.appendChild(hotspotDiv);
        }

        // Function to reveal the red hotspots
        function revealRedHotspots() {
            const allHotspots = questionImageContainer.querySelectorAll('.hotspot');
            allHotspots.forEach(hotspot => {
                hotspot.classList.add('hotspot-red-visible'); // Add the red styling class
            });
            showAnswersButton.disabled = true; // Disable the button after revealing answers
        }

        // Function to display the pop-up modal with specified text
        function showPopup(text) {
            popupText.textContent = text;
            popupModal.style.display = 'block';
        }

        // Function to hide the pop-up modal
        function hidePopup() {
            popupModal.style.display = 'none';
        }

        // Event Listeners
        startQuizButton.addEventListener('click', initGame);

        returnToStartButton.addEventListener('click', () => {
            gameScreen.style.display = 'none';
            startScreen.style.display = 'block';
            hidePopup();
            // Re-enable the "Show me the answers!" button when returning to start
            showAnswersButton.disabled = false;
        });

        closeButton.addEventListener('click', hidePopup);

        window.addEventListener('click', (event) => {
            if (event.target == popupModal) {
                hidePopup();
            }
        });

        // Event listener for the "Show me the answers!" button
        showAnswersButton.addEventListener('click', revealRedHotspots);
    </script>

</body>
</html>
